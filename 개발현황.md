# 개발 현황 - CS AI 에이전트 프로젝트

**프로젝트명**: 투비네트웍스 글로벌 FAQ 자동 응답 시스템  
**생성일**: 2025-09-30  
**최종 업데이트**: 2025-10-01 10:52  
**버전**: 1.2

---

## 📋 목차

1. [프로젝트 개요](#프로젝트-개요)
2. [기술 스택 선정](#기술-스택-선정)
3. [프로젝트 구조](#프로젝트-구조)
4. [개발 계획 및 Work Phase](#개발-계획-및-work-phase)
5. [문서 구조 및 업데이트 계획](#문서-구조-및-업데이트-계획)
6. [현재 작업 상태](#현재-작업-상태)

---

## 프로젝트 개요

### 목표
CS 사원의 수동 FAQ 응대를 AI 기반 자동 응답 시스템으로 전환

### 핵심 구조
```
[FAQ 수집] → [AI 에이전트 분석] → [답변 생성] 
  → [CS 검수] → [판매 채널 등록]
```

### 기대 효과
| 지표 | 현재 | 목표 | 개선 |
|------|------|------|------|
| 응답 시간 | 2시간 | 30분 | 75% ↓ |
| 처리량 | 30건/일 | 300건/일 | 10배 ↑ |
| CS 작업 | 100% | 20% | 80% ↓ |

---

## 기술 스택 선정

### 선정된 기술 스택

#### AI/ML
- **질문 분석**: Sentence-BERT + spaCy (15-20ms, GPU 가속)
- **벡터 검색**: Weaviate 1.25 (하이브리드 검색, 50ms)
- **답변 생성**: Claude Sonnet 4 (2500ms)

#### 데이터베이스
- **벡터 DB**: Weaviate (오픈소스, 셀프호스팅, $0)
- **NoSQL**: MongoDB 7.0 (가변 스키마, $0)
- **캐시**: Redis 7.2 ($0)

#### 백엔드
- **Framework**: FastAPI 0.115
- **Language**: Python 3.11.9
- **ASGI Server**: Uvicorn

#### 하드웨어
- **GPU**: NVIDIA GeForce RTX 3050 (CUDA 12.6)
- **RAM**: 64GB
- **CPU**: AMD Ryzen 5 9600 (6-Core, 3.80 GHz)

---

## 개발 계획 및 Work Phase

### 전체 일정 (9주)

```
Phase 0: 요구사항 & 설계  [====✅====] 2025-09-23 ~ 09-30 (1주) 완료
         프로젝트 구조화   [====✅====] 2025-09-30 (당일) 완료
Phase 1: 인프라 구축      [====✅====] 2025-10-01 (당일) 완료
Phase 2: 데이터 준비      [=========] 2025-10-14 ~ 10-20 (1주)
Phase 3: AI 코어 개발     [==================] 2025-10-21 ~ 11-03 (2주)
Phase 4: CS UI 개발       [==================] 2025-11-04 ~ 11-17 (2주)
Phase 5: 통합 테스트      [=========] 2025-11-18 ~ 11-24 (1주)
Phase 6: 프로덕션 배포    [==================] 2025-11-25 ~ 12-06 (2주)

범례: ✅ 완료  [ ] 예정  [X] 진행 중
```

### 마일스톤

| 마일스톤 | 날짜 | 주요 산출물 | 상태 |
|----------|------|-------------|------|
| M0: 설계 완료 | 2025-09-30 | 아키텍처 문서, 기술 스택 선정, 프로젝트 구조 | ✅ 완료 |
| M1: 개발 환경 준비 | 2025-10-01 | Docker 환경, Python 환경, GPU 활성화 | ✅ 완료 |
| M2: 데이터 준비 완료 | 2025-10-20 | MongoDB/Weaviate 초기 데이터 | 📅 예정 |
| M3: AI 코어 완성 | 2025-11-03 | FastAPI 백엔드, 모든 API | 📅 예정 |
| M4: UI 개발 완료 | 2025-11-17 | Next.js 프론트엔드 | 📅 예정 |
| M5: 테스트 완료 | 2025-11-24 | 테스트 보고서, 버그 수정 | 📅 예정 |
| M6: 프로덕션 배포 | 2025-12-06 | 운영 시스템 가동 | 📅 예정 |

---

## 현재 작업 상태

### Phase 진행률

| Phase | 상태 | 진행률 | 기간 |
|-------|------|--------|------|
| Phase 0: 설계 | ✅ 완료 | 100% | 2025-09-23 ~ 09-30 |
| **프로젝트 구조 초기화** | **✅ 완료** | **100%** | **2025-09-30** |
| **Phase 1: 인프라** | **✅ 완료** | **100%** | **2025-10-01** |
| Phase 2: 데이터 | 📅 예정 | 0% | 2025-10-14 ~ 10-20 |
| Phase 3: AI 코어 | 📅 예정 | 0% | 2025-10-21 ~ 11-03 |
| Phase 4: UI | 📅 예정 | 0% | 2025-11-04 ~ 11-17 |
| Phase 5: 테스트 | 📅 예정 | 0% | 2025-11-18 ~ 11-24 |
| Phase 6: 배포 | 📅 예정 | 0% | 2025-11-25 ~ 12-06 |

**전체 진행률**: 25% (Phase 0 + 구조 초기화 + Phase 1 완료)

---

### Phase 1 완료 내역 (2025-10-01)

#### ✅ 1. WSL 2 설치 및 활성화
- WSL 버전 2.6.1.0 설치 완료
- 커널 버전 6.6.87.2-1
- VirtualMachinePlatform 활성화
- 시스템 재부팅 완료

#### ✅ 2. Docker Desktop 설치 및 서비스 실행
- Docker Desktop 설치 완료
- WSL 2 백엔드 활성화
- docker-compose.yml을 통한 서비스 실행
  - **Weaviate 1.25.5**: http://localhost:8080 (정상 작동 확인)
  - **MongoDB 7.0**: http://localhost:27017 (정상 작동 확인)
  - **Redis 7.2**: http://localhost:6379 (백그라운드 실행 중)
  - **Mongo Express**: http://localhost:8081 (정상 작동 확인)

#### ✅ 3. Python 가상환경 구성
- Python 3.11.9 설치 확인
- 가상환경 생성 및 활성화
- requirements.txt 모든 패키지 설치 완료
- spaCy 한국어 모델 (ko_core_news_lg) 다운로드 완료

#### ✅ 4. GPU 환경 설정
- NVIDIA 드라이버 560.94 확인
- CUDA 12.6 지원 확인
- PyTorch 2.4.1 CUDA 12.1 버전 설치
- **GPU 인식 성공**: NVIDIA GeForce RTX 3050
- torch.cuda.is_available() = True

#### ✅ 5. 패키지 호환성 해결
- weaviate-client 버전 충돌 해결 (4.7.1 → 4.17.0)
- httpx 0.27.2와 완벽한 호환성 확인
- 모든 패키지 import 테스트 통과

---

## Phase별 체크리스트

### Phase 0: 요구사항 & 설계 ✅ 완료
- [x] 요구사항 분석
- [x] 시스템 아키텍처 설계
- [x] 기술 스택 선정
- [x] 프로젝트 구조 설계
- [x] 핵심 문서 작성
- [x] 프로젝트 구조 초기화
- [x] 스켈레톤 코드 작성
- [x] 설정 파일 작성

### Phase 1: 인프라 구축 ✅ 완료 (2025-10-01)
- [x] Python 3.11.9 가상환경 구성
- [x] Docker Desktop 설치 및 실행
- [x] Weaviate 컨테이너 정상 기동
- [x] MongoDB 컨테이너 정상 기동
- [x] Redis 컨테이너 정상 기동
- [x] GPU 인식 확인 (RTX 3050, CUDA 12.6)
- [x] 모든 Python 라이브러리 설치 및 테스트
- [x] 패키지 버전 호환성 확인 및 해결

### Phase 2: 데이터 준비 (2025-10-14 ~ 10-20) 📅 다음 단계
- [ ] 제품 스펙 JSON 10개 작성
- [ ] FAQ JSON 50개 작성
- [ ] MongoDB 스키마 설계
- [ ] 데이터 임포트 스크립트 실행
- [ ] FAQ 임베딩 생성
- [ ] Weaviate 벡터 업로드
- [ ] 데이터 모델 설계 문서 작성

---

## 빠른 참조

### Docker 서비스 포트 ✅ 모두 정상 작동
- **Weaviate**: http://localhost:8080
- **MongoDB**: http://localhost:27017
- **Redis**: http://localhost:6379
- **Mongo Express**: http://localhost:8081 (MongoDB GUI)

### 주요 명령어

#### Docker 서비스 관리
```bash
# 서비스 시작
cd C:\workspace\CSAI\docker
docker-compose up -d

# 서비스 상태 확인
docker-compose ps

# 로그 확인
docker-compose logs -f weaviate
docker-compose logs -f mongodb

# 서비스 중지
docker-compose down
```

#### Python 가상환경
```bash
# 가상환경 활성화 (Windows)
cd C:\workspace\CSAI\backend
venv\Scripts\activate

# 패키지 설치
pip install -r requirements.txt

# spaCy 한국어 모델 다운로드
python -m spacy download ko_core_news_lg

# GPU 확인
python -c "import torch; print('CUDA:', torch.cuda.is_available())"
```

#### GPU PyTorch 설치 (CUDA 12.1)
```bash
# 기존 torch 제거
pip uninstall torch torchvision torchaudio -y

# CUDA 버전 설치
pip install torch==2.4.1 torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
```

---

## 기술 이슈 및 해결

### 이슈 1: Weaviate 404 에러
**문제**: http://localhost:8080/v1/.well-known/ready 접속 시 404 에러  
**원인**: 초기 접속 시도 시 Weaviate 초기화 미완료, 브라우저 favicon 요청 오인  
**해결**: Weaviate 1.25.5 버전은 ready 엔드포인트에서 HTTP 200 상태 코드만 반환 (Content-Length: 0), 정상 작동 확인  
**상태**: ✅ 해결

### 이슈 2: weaviate-client와 httpx 버전 충돌
**문제**: weaviate-client 4.7.1과 httpx 0.27.2 버전 충돌  
**원인**: weaviate-client 4.7.1은 httpx 0.27.0까지만 지원  
**해결**: weaviate-client를 4.17.0으로 업그레이드, httpx 0.26.0 이상 지원 확인  
**상태**: ✅ 해결

### 이슈 3: PyTorch GPU 미인식
**문제**: torch.cuda.is_available() = False  
**원인**: PyTorch CPU 버전 설치 (기본 pip install)  
**해결**: PyTorch CUDA 12.1 버전으로 재설치 (--index-url 지정)  
**검증**: RTX 3050 정상 인식, CUDA 12.6 드라이버와 호환 확인  
**상태**: ✅ 해결

---

## 다음 작업 (Phase 2)

### Phase 2 시작 전 준비사항
1. CS 팀과 데이터 수집 일정 조율
2. Claude API 키 발급 (https://console.anthropic.com/settings/keys)
3. `.env` 파일 생성 및 API 키 설정

### Phase 2 주요 작업 (2025-10-14 시작 예정)
1. **제품 스펙 데이터 작성** (10개)
   - 제품 코드, 이름, 카테고리
   - 스펙, 가격, 재고
   - 호환성, 펌웨어 버전

2. **FAQ 데이터 작성** (50개)
   - 카테고리별 분류 (제품 문의, 기술 지원, 주문, 호환성, 기타)
   - 질문-답변 쌍
   - 키워드, 복잡도

3. **MongoDB 스키마 설계**
   - products, faqs, customers, logs 컬렉션
   - 인덱스 설계

4. **데이터 임포트**
   - 스크립트 실행
   - 데이터 검증

5. **FAQ 임베딩 생성**
   - Sentence-BERT로 임베딩
   - Weaviate 업로드

---

## 프로젝트 통계

### 개발 환경
- **OS**: Windows 11 Pro 64bit
- **Python**: 3.11.9
- **Docker**: Desktop (WSL 2 백엔드)
- **GPU**: NVIDIA GeForce RTX 3050 (CUDA 12.6)

### 설치된 주요 패키지
- FastAPI 0.115.0
- PyTorch 2.4.1 (CUDA 12.1)
- Weaviate Client 4.17.0
- Anthropic 0.34.2
- spaCy 3.7.6 + ko_core_news_lg
- Sentence-Transformers 3.1.1

### 실행 중인 Docker 서비스
- Weaviate 1.25.5
- MongoDB 7.0
- Redis 7.2-alpine
- Mongo Express 1.0-20

---

**문서 버전**: 1.2  
**관리자**: 개발팀  
**최종 업데이트**: 2025-10-01 10:52  
**다음 업데이트**: Phase 2 시작 시 (2025-10-14 예정)
