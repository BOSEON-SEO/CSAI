# 개발 현황 - CS AI 에이전트 프로젝트

**프로젝트명**: 투비네트웍스 글로벌 FAQ 자동 응답 시스템  
**생성일**: 2025-09-30  
**최종 업데이트**: 2025-09-30  
**버전**: 1.0

---

## 📋 목차

1. [프로젝트 개요](#프로젝트-개요)
2. [기술 스택 선정](#기술-스택-선정)
3. [개발 계획 및 Work Phase](#개발-계획-및-work-phase)
4. [문서 구조 및 업데이트 계획](#문서-구조-및-업데이트-계획)
5. [현재 작업 상태](#현재-작업-상태)

---

## 프로젝트 개요

### 목표
CS 사원의 수동 FAQ 응대를 AI 기반 자동 응답 시스템으로 전환

### 핵심 구조
```
[FAQ 수집] → [AI 에이전트 분석] → [답변 생성] 
  → [CS 검수] → [판매 채널 등록]
```

### 기대 효과
| 지표 | 현재 | 목표 | 개선 |
|------|------|------|------|
| 응답 시간 | 2시간 | 30분 | 75% ↓ |
| 처리량 | 30건/일 | 300건/일 | 10배 ↑ |
| CS 작업 | 100% | 20% | 80% ↓ |

---

## 기술 스택 선정

### Vector DB와 NoSQL의 관계

**핵심**: Vector DB와 NoSQL은 서로 대체재가 아닌 **보완재**

#### Vector DB (Weaviate)의 역할
- **목적**: 의미적 유사도 검색 (Semantic Search)
- **저장**: FAQ/제품의 임베딩 벡터
- **결과**: 유사도 점수 + 문서 ID

#### NoSQL (MongoDB)의 역할
- **목적**: 실제 데이터 저장 및 구조화된 쿼리
- **저장**: 제품 스펙, 고객 정보, FAQ 원본, 메타데이터
- **결과**: 실제 데이터

#### 작동 흐름
```
1. Weaviate에서 유사 FAQ ID 검색 → [123, 456, 789]
2. MongoDB에서 해당 FAQ 실제 텍스트 가져오기
3. MongoDB에서 고객 정보 및 제품 스펙 조회
4. 모든 정보를 Claude에게 전달
```

**비유**: Weaviate = 도서관 사서 (책 찾기), MongoDB = 책장 (실제 내용)

---

### Vector DB 후보 비교

| DB | 하이브리드 검색 | 멀티모달 | 설정 난이도 | 비용 | 추천 규모 |
|----|----------------|----------|-------------|------|-----------|
| **Weaviate** ✅ | ✅ 내장 | ✅ | 중간 | 무료 | 1K~10M |
| Milvus | ❌ | ✅ | 어려움 | 무료 | 100K~1B+ |
| Qdrant | ❌ | ❌ | 쉬움 | 무료 | 1K~1M |
| OpenSearch | ✅ | ❌ | 어려움 | 무료 | 10K~100M |
| MongoDB Vector | ✅ 기본 | ❌ | 쉬움 | 유료 | 1K~100K |

### 선정 이유: Weaviate + MongoDB

#### 1. 하이브리드 검색 필수
```
질문: "KB-TKL-001 펌웨어 v2.3 버그 있나요?"

의미 검색만: "키보드 문제", "펌웨어 업데이트" (일반적)
하이브리드: 정확한 모델명 + 버전 필터링 + 의미 유사도
          → 훨씬 정확한 결과 ✨
```

#### 2. 멀티모달 지원 (미래 확장)
- 제품 이미지 기반 문의 대응 가능
- 비교 문의 (2개 이미지 첨부) 가능

#### 3. MongoDB 가변 스키마
```json
// 블루투스 키보드
{
  "product_id": "KB-001",
  "connectivity": {"bluetooth": {...}, "usb": {...}},
  "battery": {...}
}

// 유선 키보드 (bluetooth, battery 필드 없음 → OK!)
{
  "product_id": "KB-002",
  "connectivity": {"usb": {...}}
}
```

#### 4. 비용 효율성
- Weaviate: $0 (오픈소스)
- MongoDB: $0 (셀프호스팅)
- Claude API: ~$45/월 (900건 기준)
- **총: $45/월**

---

### 질문 분석: Sentence-BERT + spaCy

#### 왜 두 모델을 함께?

| 기능 | Sentence-BERT | spaCy |
|------|---------------|-------|
| 의미 이해 | ✅ | ❌ |
| 키워드 추출 | ❌ | ✅ |
| 제품 코드 인식 | ❌ | ✅ |

#### 처리 시간
- spaCy: 10ms (키워드)
- Sentence-BERT: 5-10ms (카테고리)
- **병렬 처리 총: 15-20ms**

#### 선정 이유
- ✅ 상호 보완적
- ✅ 매우 빠름
- ✅ 무료 (오픈소스)
- ✅ GPU 활용 (RTX 3050)
- ✅ 파인튜닝 가능

---

## 개발 계획 및 Work Phase

### 전체 일정 (9주)

```
Phase 0: 요구사항 & 설계  [====✅====] 2025-09-23 ~ 09-30 (1주) 완료
Phase 1: 인프라 구축      [=========] 2025-10-07 ~ 10-13 (1주)
Phase 2: 데이터 준비      [=========] 2025-10-14 ~ 10-20 (1주)
Phase 3: AI 코어 개발     [==================] 2025-10-21 ~ 11-03 (2주)
Phase 4: CS UI 개발       [==================] 2025-11-04 ~ 11-17 (2주)
Phase 5: 통합 테스트      [=========] 2025-11-18 ~ 11-24 (1주)
Phase 6: 프로덕션 배포    [==================] 2025-11-25 ~ 12-06 (2주)

범례: ✅ 완료  [ ] 예정  [X] 진행 중
```

### 마일스톤

| 마일스톤 | 날짜 | 주요 산출물 |
|----------|------|-------------|
| M0: 설계 완료 | 2025-09-30 | 아키텍처 문서, 기술 스택 선정 |
| M1: 개발 환경 준비 | 2025-10-13 | Docker 환경, 프로젝트 구조 |
| M2: 데이터 준비 완료 | 2025-10-20 | MongoDB/Weaviate 초기 데이터 |
| M3: AI 코어 완성 | 2025-11-03 | FastAPI 백엔드, 모든 API |
| M4: UI 개발 완료 | 2025-11-17 | Next.js 프론트엔드 |
| M5: 테스트 완료 | 2025-11-24 | 테스트 보고서, 버그 수정 |
| M6: 프로덕션 배포 | 2025-12-06 | 운영 시스템 가동 |

---

## 문서 구조 및 업데이트 계획

### 현재 문서 구조

```
C:\workspace\CSAI\
├─ README.md                          ← 메인 진입점
├─ 개발현황.md                        ← 이 파일 (Notion 연동)
├─ docs/
│  ├─ 01_프로젝트_개요.md             ✅ 완료
│  ├─ 02_시스템_아키텍처.md           ✅ 완료
│  ├─ 03_기술스택_질문분석.md         ✅ 완료
│  ├─ 04_기술스택_벡터DB.md           ✅ 완료
│  ├─ 05_기술스택_NoSQL.md            ✅ 완료
│  ├─ 06_기술스택_답변생성.md         📅 Phase 1 예정
│  ├─ 07_데이터_모델_설계.md          📅 Phase 2 예정
│  ├─ 08_신뢰도_평가_시스템.md        📅 Phase 3 예정
│  ├─ 09_개발_계획.md                 ✅ 완료
│  └─ 10_환경_설정_가이드.md          📅 Phase 1 예정
└─ presentation/
   ├─ 기술팀_공유_15분.md             ✅ 완료
   └─ 시연_시나리오.md                📅 Phase 5 예정
```

### 문서 작성 현황

| 분류 | 완료 | 예정 | 진행률 |
|------|------|------|--------|
| **핵심 문서** | 4 | 0 | 100% |
| **기술 스택** | 3 | 3 | 50% |
| **개발 가이드** | 1 | 1 | 50% |
| **발표 자료** | 1 | 1 | 50% |
| **총계** | **9** | **5** | **64%** |

---

### Phase별 자동 문서 업데이트 계획

> **중요**: 각 Task 완료 시 아래 연관 문서를 자동으로 업데이트합니다.

#### Phase 0: 요구사항 & 설계 ✅ 완료 (2025-09-30)

**완료된 문서**:
- ✅ `docs/01_프로젝트_개요.md`
- ✅ `docs/02_시스템_아키텍처.md`
- ✅ `docs/03_기술스택_질문분석.md`
- ✅ `docs/04_기술스택_벡터DB.md`
- ✅ `docs/05_기술스택_NoSQL.md`
- ✅ `docs/09_개발_계획.md`
- ✅ `presentation/기술팀_공유_15분.md`
- ✅ `README.md`
- ✅ `개발현황.md`

---

#### Phase 1: 인프라 구축 (2025-10-07 ~ 10-13)

**주요 작업**:
1. 개발 환경 설정 (Python, Node.js, Docker)
2. Docker Compose 구성 (Weaviate, MongoDB, Redis)
3. Python 라이브러리 설치
4. 기본 프로젝트 구조 생성
5. 테스트 & 검증

**완료 시 자동 업데이트할 문서**:
- 📝 `docs/10_환경_설정_가이드.md` (신규 작성)
  - 개발 환경 (Windows) 섹션
  - Docker Compose 설정 방법
  - Python 라이브러리 설치 가이드
  - GPU 설정 확인 방법
  
- 📝 `docs/06_기술스택_답변생성.md` (신규 작성, Claude 최종 결정 시)
  - Claude Sonnet 4 선정 이유
  - API 키 설정 방법
  - 기본 사용 예제
  
- 📝 `README.md` (업데이트)
  - 현재 상태 → Phase 1 완료로 변경
  - 빠른 시작 섹션 업데이트
  
- 📝 `개발현황.md` (업데이트)
  - Phase 1 상태를 ✅ 완료로 변경
  - 현재 작업 상태 섹션 갱신

**체크리스트**:
- [ ] Python 3.11 가상환경 구성
- [ ] Docker Desktop 설치 및 실행
- [ ] Weaviate 컨테이너 정상 기동
- [ ] MongoDB 컨테이너 정상 기동
- [ ] Redis 컨테이너 정상 기동
- [ ] GPU 인식 확인 (`torch.cuda.is_available()` = True)
- [ ] 모든 Python 라이브러리 설치 및 import 테스트

**완료 조건**:
- `docker-compose up -d` 실행 시 모든 서비스 정상
- Python에서 Weaviate, MongoDB 연결 성공

---

#### Phase 2: 데이터 준비 (2025-10-14 ~ 10-20)

**주요 작업**:
1. 제품 스펙 수집 (10개)
2. FAQ 데이터 작성 (50개)
3. MongoDB 스키마 설계
4. 데이터 임포트 스크립트 작성
5. Weaviate 벡터 생성 및 업로드

**완료 시 자동 업데이트할 문서**:
- 📝 `docs/07_데이터_모델_설계.md` (신규 작성)
  - MongoDB 스키마 전체 구조
    - products 컬렉션 스키마
    - faqs 컬렉션 스키마
    - customers 컬렉션 스키마
    - logs 컬렉션 스키마
  - Weaviate 클래스 정의
  - 인덱스 전략
  - 샘플 데이터 예시
  
- 📝 `README.md` (업데이트)
  - 현재 상태 → Phase 2 완료로 변경
  - 데이터 현황 (제품 10개, FAQ 50개) 추가
  
- 📝 `개발현황.md` (업데이트)
  - Phase 2 상태를 ✅ 완료로 변경
  - 데이터 통계 추가

**체크리스트**:
- [ ] 제품 스펙 JSON 10개 작성
- [ ] FAQ JSON 50개 작성 (카테고리별 분류)
- [ ] MongoDB 컬렉션 생성
- [ ] 데이터 임포트 스크립트 작성 및 실행
- [ ] FAQ 임베딩 생성 (Sentence-BERT)
- [ ] Weaviate에 벡터 업로드
- [ ] 테스트 검색 수행

**완료 조건**:
- MongoDB에 products 10개, faqs 50개 저장
- Weaviate에 FAQ 50개 벡터 저장
- 테스트 검색 시 유사 FAQ 정상 반환

---

#### Phase 3: AI 에이전트 코어 개발 (2025-10-21 ~ 11-03)

**주요 작업**:
1. 질문 분석 모듈 (QuestionAnalyzer)
2. Weaviate 검색 서비스
3. MongoDB 서비스
4. 신뢰도 평가 시스템
5. Claude 통합 (MCP)
6. FastAPI 엔드포인트

**완료 시 자동 업데이트할 문서**:
- 📝 `docs/08_신뢰도_평가_시스템.md` (신규 작성)
  - 복잡도 판단 알고리즘 상세
  - 신뢰도 점수 계산 로직
  - 임계값 설정 근거
  - 답변 유보 조건
  - 성능 지표 (정확도, 오탐률)
  
- 📝 `docs/06_기술스택_답변생성.md` (업데이트)
  - MCP 서버 구성 상세
  - 프롬프트 템플릿 전체
  - Claude API 호출 예제
  - 에러 핸들링
  
- 📝 `docs/03_기술스택_질문분석.md` (업데이트)
  - QuestionAnalyzer 클래스 구현 상세
  - 실제 코드 예시
  - 성능 측정 결과
  
- 📝 `README.md` (업데이트)
  - 현재 상태 → Phase 3 완료로 변경
  - API 엔드포인트 목록 추가
  
- 📝 `개발현황.md` (업데이트)
  - Phase 3 상태를 ✅ 완료로 변경

**체크리스트**:
- [ ] QuestionAnalyzer 클래스 구현 및 테스트
- [ ] WeaviateService 클래스 구현 및 테스트
- [ ] MongoDBService 클래스 구현 및 테스트
- [ ] ConfidenceScorer 클래스 구현 및 테스트
- [ ] ClaudeService 클래스 구현 및 테스트
- [ ] FastAPI 엔드포인트 4개 구현
- [ ] 단위 테스트 통과율 90% 이상

**완료 조건**:
- 모든 API 엔드포인트 정상 작동
- 질문 입력 → 답변 생성 전체 플로우 동작
- 평균 응답 시간 3초 이내

---

#### Phase 4: CS 검수 UI 개발 (2025-11-04 ~ 11-17)

**주요 작업**:
1. Next.js 프로젝트 초기화
2. 대기열 목록 UI
3. 답변 상세 페이지
4. 검수 액션 (승인/수정/거부)
5. 실시간 업데이트 (SSE)
6. 통계 대시보드

**완료 시 자동 업데이트할 문서**:
- 📝 `README.md` (업데이트)
  - 현재 상태 → Phase 4 완료로 변경
  - 프론트엔드 실행 방법 추가
  
- 📝 `개발현황.md` (업데이트)
  - Phase 4 상태를 ✅ 완료로 변경

**체크리스트**:
- [ ] Next.js + shadcn/ui 설정
- [ ] ReviewQueue 컴포넌트
- [ ] ReviewDetail 컴포넌트
- [ ] AnswerEditor 컴포넌트
- [ ] ApprovalButtons 컴포넌트
- [ ] SSE 연동
- [ ] 통계 차트 구현

**완료 조건**:
- 대기열 목록 정상 표시
- 답변 상세 보기 정상 작동
- 승인/수정/거부 정상 동작
- 실시간 업데이트 정상 작동

---

#### Phase 5: 통합 테스트 (2025-11-18 ~ 11-24)

**주요 작업**:
1. 엔드투엔드 테스트
2. 성능 테스트
3. 에러 핸들링 검증
4. 로깅 시스템 검증
5. CS 팀 파일럿 테스트

**완료 시 자동 업데이트할 문서**:
- 📝 `presentation/시연_시나리오.md` (신규 작성)
  - 시연 1: 간단한 질문 (제품 문의)
  - 시연 2: 복잡한 질문 (기술 지원)
  - 시연 3: 실시간 업데이트 시연
  - 스크린샷 포함
  
- 📝 `README.md` (업데이트)
  - 현재 상태 → Phase 5 완료로 변경
  - 테스트 결과 요약 추가
  
- 📝 `개발현황.md` (업데이트)
  - Phase 5 상태를 ✅ 완료로 변경
  - 테스트 통계 추가

**체크리스트**:
- [ ] 엔드투엔드 테스트 100% 통과
- [ ] 성능 테스트 (동시 10건 처리)
- [ ] Weaviate 다운 시나리오 테스트
- [ ] MongoDB 다운 시나리오 테스트
- [ ] Claude API 장애 시나리오 테스트
- [ ] CS 팀 파일럿 테스트 및 피드백 수집

**완료 조건**:
- 평균 응답 시간 3초 이내 유지
- 메모리 사용량 4GB 이내
- CS 팀 만족도 80% 이상

---

#### Phase 6: 프로덕션 배포 (2025-11-25 ~ 12-06)

**주요 작업**:
1. 배포 환경 구성
2. Docker 이미지 빌드
3. 프로덕션 배포
4. 모니터링 구성
5. 백업 시스템
6. 보안 감사
7. 문서화 완료

**완료 시 자동 업데이트할 문서**:
- 📝 `docs/10_환경_설정_가이드.md` (업데이트)
  - 배포 환경 (Linux) 섹션 추가
  - Nginx 설정
  - SSL 인증서 설정
  - 백업/복원 가이드
  
- 📝 `README.md` (업데이트)
  - 현재 상태 → Phase 6 완료 (프로덕션 배포)
  - 운영 환경 접속 정보 추가
  - 모니터링 대시보드 링크
  
- 📝 `개발현황.md` (최종 업데이트)
  - Phase 6 상태를 ✅ 완료로 변경
  - 프로젝트 최종 완료 마크
  - 운영 지표 추가

**체크리스트**:
- [ ] Linux 서버 준비
- [ ] Docker 이미지 빌드 및 푸시
- [ ] docker-compose.prod.yml 작성
- [ ] SSL 인증서 적용
- [ ] Nginx 리버스 프록시 설정
- [ ] Grafana 대시보드 설정
- [ ] Prometheus 메트릭 수집
- [ ] MongoDB 자동 백업 스크립트
- [ ] 보안 감사 통과

**완료 조건**:
- 프로덕션 환경에서 정상 작동
- 모니터링 대시보드 정상 작동
- 백업 시스템 검증 완료

---

## 현재 작업 상태

### Phase 진행률

| Phase | 상태 | 진행률 | 기간 |
|-------|------|--------|------|
| Phase 0: 설계 | ✅ 완료 | 100% | 2025-09-23 ~ 09-30 |
| Phase 1: 인프라 | 📅 예정 | 0% | 2025-10-07 ~ 10-13 |
| Phase 2: 데이터 | 📅 예정 | 0% | 2025-10-14 ~ 10-20 |
| Phase 3: AI 코어 | 📅 예정 | 0% | 2025-10-21 ~ 11-03 |
| Phase 4: UI | 📅 예정 | 0% | 2025-11-04 ~ 11-17 |
| Phase 5: 테스트 | 📅 예정 | 0% | 2025-11-18 ~ 11-24 |
| Phase 6: 배포 | 📅 예정 | 0% | 2025-11-25 ~ 12-06 |

**전체 진행률**: 11.1% (Phase 0 완료)

---

### 다음 Task

**즉시 진행**:
1. Phase 1 시작 날짜 최종 확정
2. CS 팀과 Phase 2 데이터 수집 일정 조율
3. 개발 환경 사전 점검

**이번 주 내**:
- [ ] Python 3.11 설치 확인
- [ ] Docker Desktop 설치
- [ ] GPU 드라이버 최신화

---

### 문서 업데이트 규칙 (자동화)

> **AI에게 전달할 지침**: 각 대화는 하나의 일별 Task를 담당합니다. 해당 Task가 끝나면 위의 "Phase별 자동 문서 업데이트 계획"을 참고하여 연관된 문서들을 자동으로 업데이트하세요.

**업데이트 트리거**:
1. **Phase 완료 시**: 해당 Phase의 "완료 시 자동 업데이트할 문서" 섹션에 명시된 모든 문서 작성/업데이트
2. **마일스톤 달성 시**: `README.md`의 진행 상황 표 업데이트
3. **주요 결정 사항**: 해당 기술 스택 문서 업데이트

**업데이트 방법**:
- 📝 신규 작성: 빈 템플릿을 Full Document로 작성
- 📝 업데이트: 기존 문서에 새로운 섹션 추가 또는 내용 수정
- 📝 진행 상황: Phase 상태, 체크리스트, 진행률 갱신

---

## 기술 스택 요약

### 전체 구조
```
질문 분석: Sentence-BERT + spaCy (15-20ms, $0)
    ↓
벡터 검색: Weaviate (50ms, $0)
    ↓
데이터 조회: MongoDB (10ms, $0)
    ↓
신뢰도 평가: Python 로직 (5ms, $0)
    ↓
답변 생성: Claude Sonnet 4 (2500ms, $45/월)
    ↓
CS 검수 UI: Next.js + shadcn/ui
```

### 비용 분석 (월 900건)

| 항목 | 비용 |
|------|------|
| 경량 모델 (Sentence-BERT + spaCy) | $0 |
| Weaviate (셀프호스팅) | $0 |
| MongoDB (셀프호스팅) | $0 |
| Claude API | $45 |
| AWS EC2 (선택) | $30 |
| **총 비용** | **$45~75** |

---

## 위험 관리

| 위험 | 확률 | 영향도 | 대응 방안 |
|------|------|--------|-----------|
| 개발 지연 | 중 | 중 | 2주 버퍼 확보 |
| 기술 학습 곡선 | 중 | 중 | 프로토타입 제작 |
| 데이터 부족 | 낮 | 중 | CS 팀 긴밀 협업 |
| Claude API 장애 | 낮 | 높 | 재시도 로직, 폴백 |
| 성능 이슈 | 중 | 중 | 캐싱, 최적화 |

---

## 프로젝트 관리

### 매주 업데이트
- **매주 금요일**: 진행 상황 보고
- **블로커 발생 시**: 즉시 보고 및 해결

### Notion 연동
이 문서(`개발현황.md`)는 Notion에 업로드되어 프로젝트 관리에 사용됩니다. 각 Phase 완료 시 자동으로 Notion도 업데이트됩니다.

---

**문서 버전**: 1.0  
**관리자**: 개발팀  
**최종 업데이트**: 2025-09-30  
**다음 업데이트**: Phase 1 완료 시 (2025-10-13 예정)
