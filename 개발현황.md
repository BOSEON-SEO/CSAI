# 개발 현황 - CS AI 에이전트 프로젝트

**프로젝트명**: 투비네트웍스 글로벌 FAQ 자동 응답 시스템  
**생성일**: 2025-09-30  
**최종 업데이트**: 2025-10-01 20:45  
**버전**: 1.4

---

## 📋 목차

1. [프로젝트 개요](#프로젝트-개요)
2. [기술 스택 선정](#기술-스택-선정)
3. [프로젝트 구조](#프로젝트-구조)
4. [개발 계획 및 Work Phase](#개발-계획-및-work-phase)
5. [문서 구조 및 업데이트 계획](#문서-구조-및-업데이트-계획)
6. [현재 작업 상태](#현재-작업-상태)

---

## 프로젝트 개요

### 목표
CS 사원의 수동 FAQ 응대를 AI 기반 자동 응답 시스템으로 전환

### 핵심 구조
```
[FAQ 수집] → [AI 에이전트 분석] → [답변 생성] 
  → [CS 검수] → [판매 채널 등록]
```

### 기대 효과
| 지표 | 현재 | 목표 | 개선 |
|------|------|------|------|
| 응답 시간 | 2시간 | 30분 | 75% ↓ |
| 처리량 | 30건/일 | 300건/일 | 10배 ↑ |
| CS 작업 | 100% | 20% | 80% ↓ |

---

## 기술 스택 선정

### 선정된 기술 스택

#### AI/ML
- **질문 분석**: Sentence-BERT + spaCy (15-20ms, GPU 가속)
- **벡터 검색**: Weaviate 1.25 (하이브리드 검색, 50ms)
- **답변 생성**: Claude Sonnet 4 (2500ms)

#### 데이터베이스
- **관계형 DB**: MySQL 8.0 (네이버 API 원본 데이터 저장)
- **벡터 DB**: Weaviate (오픈소스, 셀프호스팅, $0)
- **NoSQL**: MongoDB 7.0 (FAQ 데이터, 가변 스키마, $0)
- **캐시**: Redis 7.2 ($0)

#### 백엔드
- **Python**: FastAPI + Python 3.11.9
- **Java**: Spring Boot (기존 네이버 커머스 API 연동)

#### 하드웨어
- **GPU**: NVIDIA GeForce RTX 3050 (CUDA 12.6)
- **RAM**: 64GB
- **CPU**: AMD Ryzen 5 9600 (6-Core, 3.80 GHz)

---

## 프로젝트 구조

```
C:\workspace\CSAI\
├── backend/
│   ├── app/
│   │   ├── models/
│   │   │   ├── __init__.py
│   │   │   ├── naver_api.py          ✅ NEW (2025-10-01)
│   │   │   └── database.py           ✅ NEW (2025-10-01)
│   │   └── services/
│   │       ├── __init__.py
│   │       └── naver_api_service.py  ✅ NEW (2025-10-01)
│   ├── venv/                         # Python 가상환경
│   └── requirements.txt
│
├── scripts/
│   └── faq/                          ✅ NEW (2025-10-01)
│       ├── export_mysql_to_sheet.py
│       └── import_sheet_to_mongodb.py
│
├── docs/
│   ├── 01_프로젝트_개요.md
│   ├── 02_시스템_아키텍처.md
│   ├── 03_기술스택_질문분석.md
│   ├── 04_기술스택_벡터DB.md
│   ├── 05_기술스택_NoSQL.md
│   ├── 09_개발_계획.md
│   ├── 11_FAQ_데이터_파이프라인.md   ✅ NEW (2025-10-01)
│   └── presentation/
│       └── 기술팀_공유_15분.md
│
├── devlog/                           ✅ NEW (2025-10-01)
│   ├── 2025-10-01_phase1_인프라구축.md
│   ├── 2025-10-01_phase2_데이터준비.md
│   └── 2025-10-01_네이버API연동.md  ✅ NEW (2025-10-01 저녁)
│
├── docker/
│   └── docker-compose.yml           # Weaviate, MongoDB, Redis
│
├── config/                           # 설정 파일 (gitignore)
│   ├── .env.example
│   └── google_credentials.json.example
│
├── 개발현황.md                       ✅ UPDATED (2025-10-01)
└── README.md
```

---

## 개발 계획 및 Work Phase

### 전체 일정 (9주)

```
Phase 0: 요구사항 & 설계  [====✅====] 2025-09-23 ~ 09-30 (1주) 완료
         프로젝트 구조화   [====✅====] 2025-09-30 (당일) 완료
         FAQ 파이프라인    [====✅====] 2025-10-01 (당일) 완료
Phase 1: 인프라 구축      [====✅====] 2025-10-01 (당일) 완료
         네이버 API 연동   [====✅====] 2025-10-01 (당일 저녁) 완료
Phase 2: 데이터 준비      [====🔄====] 2025-10-01 시작 ~ 10-20 (진행 중)
Phase 3: AI 코어 개발     [==================] 2025-10-21 ~ 11-03 (2주)
Phase 4: CS UI 개발       [==================] 2025-11-04 ~ 11-17 (2주)
Phase 5: 통합 테스트      [=========] 2025-11-18 ~ 11-24 (1주)
Phase 6: 프로덕션 배포    [==================] 2025-11-25 ~ 12-06 (2주)

범례: ✅ 완료  🔄 진행 중  [ ] 예정
```

### 마일스톤

| 마일스톤 | 날짜 | 주요 산출물 | 상태 |
|----------|------|-------------|------|
| M0: 설계 완료 | 2025-09-30 | 아키텍처 문서, 기술 스택 선정, 프로젝트 구조 | ✅ 완료 |
| M0.5: FAQ 파이프라인 설계 | 2025-10-01 오후 | 네이버 API 연동, MySQL/MongoDB 스키마, 데이터 변환 스크립트 | ✅ 완료 |
| M1: 개발 환경 준비 | 2025-10-01 오전 | Docker 환경, Python 환경, GPU 활성화 | ✅ 완료 |
| M1.5: 네이버 API 연동 완료 | 2025-10-01 저녁 | Spring Boot FAQ 조회 API, MyBatis 매퍼, 중복 방지 로직 | ✅ 완료 |
| M2: 데이터 준비 완료 | 2025-10-20 | MongoDB/Weaviate 초기 데이터 | 🔄 진행 중 |
| M3: AI 코어 완성 | 2025-11-03 | FastAPI 백엔드, 모든 API | 📅 예정 |
| M4: UI 개발 완료 | 2025-11-17 | Next.js 프론트엔드 | 📅 예정 |
| M5: 테스트 완료 | 2025-11-24 | 테스트 보고서, 버그 수정 | 📅 예정 |
| M6: 프로덕션 배포 | 2025-12-06 | 운영 시스템 가동 | 📅 예정 |

---

## 현재 작업 상태

### Phase 진행률

| Phase | 상태 | 진행률 | 기간 |
|-------|------|--------|------|
| Phase 0: 설계 | ✅ 완료 | 100% | 2025-09-23 ~ 09-30 |
| **프로젝트 구조 초기화** | **✅ 완료** | **100%** | **2025-09-30** |
| **FAQ 데이터 파이프라인** | **✅ 완료** | **100%** | **2025-10-01 오후** |
| **Phase 1: 인프라** | **✅ 완료** | **100%** | **2025-10-01 오전** |
| **네이버 API 연동** | **✅ 완료** | **100%** | **2025-10-01 저녁** |
| Phase 2: 데이터 | 🔄 진행 중 | 10% | 2025-10-01 시작 ~ 10-20 |
| Phase 3: AI 코어 | 📅 예정 | 0% | 2025-10-21 ~ 11-03 |
| Phase 4: UI | 📅 예정 | 0% | 2025-11-04 ~ 11-17 |
| Phase 5: 테스트 | 📅 예정 | 0% | 2025-11-18 ~ 11-24 |
| Phase 6: 배포 | 📅 예정 | 0% | 2025-11-25 ~ 12-06 |

**전체 진행률**: 33% (Phase 0 + 구조 초기화 + FAQ 파이프라인 + Phase 1 + 네이버 API 연동 완료)

---

### 네이버 Commerce API 연동 완료 내역 (2025-10-01 저녁)

#### ✅ 1. Spring Boot 기존 서버 활용
기존 투비네트웍스 어드민 백엔드 시스템을 활용하여 네이버 Commerce API와 연동했습니다. Python이 아닌 Java Spring Boot를 사용한 이유는 회사 내부의 다른 시스템들(WMS, 상품 관리 등)과 이미 연결되어 있는 기존 인프라를 최대한 활용하기 위해서였습니다.

#### ✅ 2. MyBatis 매퍼 구조 개선
처음에는 매퍼 파일 경로 설정 오류가 발생했습니다. 파일을 `mapper/` 폴더에서 `mapper/naver/` 하위 폴더로 이동했는데, MyBatis가 인식하지 못하는 문제였습니다. DataSourceConfig.java 파일의 모든 SqlSessionFactory 설정에서 매퍼 경로를 다음과 같이 수정했습니다.

**변경 전:**
```java
sqlSessionFactoryBean.setMapperLocations(
    applicationContext.getResources("classpath:/mapper/*.xml")
);
```

**변경 후:**
```java
sqlSessionFactoryBean.setMapperLocations(
    applicationContext.getResources("classpath:/mapper/**/*.xml")
);
```

`*`를 `**`로 변경하여 모든 하위 폴더를 재귀적으로 검색하도록 했습니다. 이렇게 하면 `mapper/naver/CustomerInquiryMapper.xml` 같은 하위 폴더의 파일들도 정상적으로 인식됩니다.

#### ✅ 3. 네이버 FAQ 동기화 API 구현
NaverController에 PATCH 방식의 문의 동기화 엔드포인트를 구현했습니다. 이 API는 다음과 같은 작업을 수행합니다.

먼저 네이버 Commerce API를 호출하여 최근 문의 목록을 가져옵니다. 기본적으로 최근 7일간의 미답변 문의를 조회하며, 날짜 범위는 파라미터로 조정할 수 있습니다. 페이징을 자동으로 처리하여 200개씩 데이터를 가져오고, 모든 페이지를 순회합니다.

가져온 문의 데이터를 MySQL 데이터베이스에 저장할 때 중복을 체크합니다. `inquiryNo`(문의 번호)를 기준으로 이미 존재하는 문의는 건너뛰고, 새로운 문의만 INSERT합니다. 각 문의는 `pending` 상태로 저장되며, 이후 Python 스크립트가 이 데이터를 Google Sheets로 내보내게 됩니다.

#### ✅ 4. 실제 테스트 결과
첫 번째 실행에서 100건의 문의를 성공적으로 가져와 모두 데이터베이스에 저장했습니다. 처리 시간은 약 2.7초였습니다.

```json
{
    "success": true,
    "totalFetched": 100,
    "newInserted": 100,
    "updated": 0,
    "errors": 0,
    "processingTimeMs": 2665
}
```

두 번째 실행에서는 API로부터 200건을 가져왔지만, 실제로 데이터베이스에 삽입된 것은 100건뿐이었습니다. 이것은 중복 체크 로직이 정확히 작동하여 이미 존재하는 100건을 걸러냈다는 의미입니다. 처리 시간은 약 2.9초였습니다.

```json
{
    "success": true,
    "totalFetched": 200,
    "newInserted": 100,
    "updated": 0,
    "errors": 0,
    "processingTimeMs": 2934
}
```

이 결과는 두 가지를 증명합니다. 첫째, 네이버 API 연동이 안정적으로 작동합니다. 둘째, 중복 방지 메커니즘이 정확하게 작동하여 같은 문의가 여러 번 저장되는 것을 방지합니다.

#### ✅ 5. 데이터베이스 스키마
MySQL의 `customer_inquiry` 테이블은 다음과 같은 구조를 가집니다.

- `inquiry_no`: 네이버 문의 번호 (Primary Key)
- `category`: 문의 유형 (상품, 배송, 반품, 교환, 환불, 기타)
- `title`: 문의 제목
- `inquiry_content`: 문의 내용
- `inquiry_registration_date_time`: 문의 등록 일시
- `answered`: 답변 여부 (boolean)
- `order_id`: 주문 ID
- `product_no`: 상품 번호
- `product_name`: 상품명
- `customer_id`: 구매자 ID
- `customer_name`: 구매자 이름
- `processing_status`: 처리 상태 (pending, exported_to_sheet, cs_reviewed, synced_to_mongo)
- `created_at`, `updated_at`: 레코드 생성/수정 시각

처리 상태 흐름은 다음과 같습니다.

1. `pending`: 네이버 API에서 가져온 직후 상태
2. `exported_to_sheet`: Python 스크립트가 Google Sheets로 내보낸 상태
3. `cs_reviewed`: CS 팀이 검수를 완료한 상태
4. `synced_to_mongo`: MongoDB FAQ 컬렉션에 동기화된 상태

#### ✅ 6. 네이버 API 인증 방식
네이버 Commerce API는 OAuth 2.0 Client Credentials 방식을 사용합니다. 기존 NaverCommerceApiService에 이미 구현되어 있는 인증 로직을 활용했습니다. 

인증 토큰은 다음과 같은 방식으로 생성됩니다. Client ID와 현재 타임스탬프를 조합하여 BCrypt로 해싱합니다. 이 해시값을 Base64로 인코딩하여 서명 토큰을 만듭니다. 서명 토큰과 함께 Client ID, 타임스탬프, grant_type을 전송하여 access_token을 발급받습니다. 발급받은 Bearer 토큰을 Authorization 헤더에 포함하여 API를 호출합니다.

토큰은 일정 시간 후 만료되지만, 각 API 호출 시마다 새로운 토큰을 발급받기 때문에 만료 문제는 발생하지 않습니다.

---

### FAQ 데이터 파이프라인 완료 내역 (2025-10-01 오후)

#### ✅ 1. 네이버 Commerce API 모델 및 서비스
- **Pydantic 모델** (`backend/app/models/naver_api.py`)
  - `InquiryContent`: 개별 문의 상세 정보
  - `PageableInfo`, `SortInfo`: 페이징 정보
  - `NaverInquiryResponse`: 전체 API 응답 구조
  - 유틸리티 메서드: `get_unanswered_inquiries()`, `get_product_inquiries()`

- **SQLAlchemy ORM 모델** (`backend/app/models/database.py`)
  - `CustomerInquiry`: 고객 문의 원본 데이터 테이블 (MySQL)
  - `InquiryProcessingLog`: 문의 처리 과정 추적 로그
  - 처리 상태 추적: pending → exported_to_sheet → cs_reviewed → synced_to_mongo

- **API 서비스** (`backend/app/services/naver_api_service.py`)
  - `NaverCommerceAPIService`: 네이버 API 호출 및 데이터 저장
  - OAuth2 인증 자동 처리
  - 페이징 자동 순회 (최대 200개/페이지)
  - 중복 방지 upsert 로직
  - 폴링 방식 데이터 수집 (10분 간격 권장)

#### ✅ 2. 데이터 변환 스크립트
- **MySQL → Google Sheets** (`scripts/faq/export_mysql_to_sheet.py`)
  - pending 상태 문의를 Google Sheets로 자동 내보내기
  - CS 팀 검수를 위한 워크시트 자동 생성
  - 헤더 서식 자동 적용 (굵게, 배경색)
  - 처리 상태 자동 업데이트 (exported_to_sheet)

- **Google Sheets → MongoDB** (`scripts/faq/import_sheet_to_mongodb.py`)
  - CS 팀 검수 완료 데이터를 MongoDB FAQ 형식으로 변환
  - 제품 ID 자동 추출 (정규표현식 + MongoDB 제품명 매칭)
  - 키워드 자동 추출 (배터리, 블루투스, 충전 등)
  - FAQ 문서 구조 자동 생성 (질문, 답변, 관련 제품, 메타데이터)
  - MySQL 상태 자동 업데이트 (synced_to_mongo)
  - Upsert 방식으로 중복 방지

#### ✅ 3. 핵심 문서 작성
- **FAQ 데이터 파이프라인 전체 설계** (`docs/11_FAQ_데이터_파이프라인.md`)
  - 전체 아키텍처 다이어그램
  - 데이터 흐름 6단계 상세 설명
  - MySQL 및 MongoDB 스키마 설계
  - 스크립트 사용법 및 파라미터 가이드
  - CS 팀 작업 가이드 (Google Sheets 사용법)
  - 제약사항 및 해결방안 (실시간 알림 미지원 → 폴링 방식)
  - 운영 가이드 (모니터링, 백업, 장애 복구)
  - FAQ 및 문제 해결 섹션
  - 향후 확장 계획 (Phase 2-6)

---

### Phase 1 완료 내역 (2025-10-01 오전)

#### ✅ 1. WSL 2 설치 및 활성화
- WSL 버전 2.6.1.0 설치 완료
- 커널 버전 6.6.87.2-1
- VirtualMachinePlatform 활성화
- 시스템 재부팅 완료

#### ✅ 2. Docker Desktop 설치 및 서비스 실행
- Docker Desktop 설치 완료
- WSL 2 백엔드 활성화
- docker-compose.yml을 통한 서비스 실행
  - **Weaviate 1.25.5**: http://localhost:8080 (정상 작동 확인)
  - **MongoDB 7.0**: http://localhost:27017 (정상 작동 확인)
  - **Redis 7.2**: http://localhost:6379 (백그라운드 실행 중)
  - **Mongo Express**: http://localhost:8081 (정상 작동 확인)

#### ✅ 3. Python 가상환경 구성
- Python 3.11.9 설치 확인
- 가상환경 생성 및 활성화
- requirements.txt 모든 패키지 설치 완료
- spaCy 한국어 모델 (ko_core_news_lg) 다운로드 완료

#### ✅ 4. GPU 환경 설정
- NVIDIA 드라이버 560.94 확인
- CUDA 12.6 지원 확인
- PyTorch 2.4.1 CUDA 12.1 버전 설치
- **GPU 인식 성공**: NVIDIA GeForce RTX 3050
- torch.cuda.is_available() = True

#### ✅ 5. 패키지 호환성 해결
- weaviate-client 버전 충돌 해결 (4.7.1 → 4.17.0)
- httpx 0.27.2와 완벽한 호환성 확인
- 모든 패키지 import 테스트 통과

---

## Phase별 체크리스트

### Phase 0: 요구사항 & 설계 ✅ 완료
- [x] 요구사항 분석
- [x] 시스템 아키텍처 설계
- [x] 기술 스택 선정
- [x] 프로젝트 구조 설계
- [x] 핵심 문서 작성
- [x] 프로젝트 구조 초기화
- [x] 스켈레톤 코드 작성
- [x] 설정 파일 작성

### FAQ 파이프라인 추가 체크리스트 ✅ 완료 (2025-10-01 오후)
- [x] 네이버 Commerce API Pydantic 모델 작성
- [x] MySQL 데이터베이스 스키마 설계 (CustomerInquiry, InquiryProcessingLog)
- [x] MongoDB FAQ 컬렉션 스키마 설계
- [x] NaverCommerceAPIService 구현 (OAuth2, 페이징, upsert)
- [x] MySQL → Google Sheets 내보내기 스크립트
- [x] Google Sheets → MongoDB 임포트 스크립트
- [x] FAQ 데이터 파이프라인 전체 문서 작성
- [x] CS 팀 작업 가이드 작성
- [x] 운영 및 모니터링 가이드 작성

### Phase 1: 인프라 구축 ✅ 완료 (2025-10-01 오전)
- [x] Python 3.11.9 가상환경 구성
- [x] Docker Desktop 설치 및 실행
- [x] Weaviate 컨테이너 정상 기동
- [x] MongoDB 컨테이너 정상 기동
- [x] Redis 컨테이너 정상 기동
- [x] GPU 인식 확인 (RTX 3050, CUDA 12.6)
- [x] 모든 Python 라이브러리 설치 및 테스트
- [x] 패키지 버전 호환성 확인 및 해결

### 네이버 API 연동 체크리스트 ✅ 완료 (2025-10-01 저녁)
- [x] MyBatis 매퍼 경로 설정 수정
- [x] NaverController PATCH 엔드포인트 구현
- [x] NaverCommerceApiService 문의 조회 API 연동
- [x] MySQL customer_inquiry 테이블 스키마 확인
- [x] 중복 방지 로직 구현 및 테스트
- [x] 페이징 자동 처리 확인
- [x] 실제 네이버 API 호출 테스트 (100건 성공)
- [x] 중복 체크 테스트 (200건 중 100건 걸러내기 성공)

### Phase 2: 데이터 준비 (2025-10-01 시작 ~ 10-20) 🔄 진행 중
- [ ] 제품 스펙 데이터 작성 (10개)
  - Keychron 제품 위주 (K10 PRO, Q1, V6 등)
  - products_keychron.csv 파일 참조
- [ ] 초기 FAQ 데이터 작성 (50개)
  - 카테고리별 분류 (제품 문의, 기술 지원, 주문, 호환성, 기타)
  - 실제 네이버 스마트스토어 문의 참조
- [ ] MongoDB products 컬렉션에 제품 데이터 임포트
- [ ] FAQ 임베딩 생성 (Sentence-BERT)
- [ ] Weaviate 벡터 업로드
- [ ] 데이터 검증 및 테스트

---

## 생성된 파일 목록 (2025-10-01)

### Backend 모델 및 서비스
```
backend/
├── app/
│   ├── models/
│   │   ├── naver_api.py          # 네이버 API Pydantic 모델
│   │   └── database.py           # SQLAlchemy ORM 모델 (MySQL)
│   └── services/
│       └── naver_api_service.py  # 네이버 API 서비스 클래스
```

### 데이터 파이프라인 스크립트
```
scripts/
└── faq/
    ├── export_mysql_to_sheet.py       # MySQL → Google Sheets
    └── import_sheet_to_mongodb.py     # Google Sheets → MongoDB
```

### Spring Boot (기존 시스템 활용)
```
tbnws_admin_back/
├── src/main/java/.../config/infra/
│   └── DataSourceConfig.java        # UPDATED: 매퍼 경로 수정
├── src/main/java/.../controller/
│   └── NaverController.java         # NEW: 문의 동기화 엔드포인트
├── src/main/java/.../service/naver/
│   └── NaverCommerceApiService.java # UPDATED: 문의 조회 기능 추가
└── src/main/resources/mapper/naver/
    └── CustomerInquiryMapper.xml    # NEW: 문의 CRUD 쿼리
```

### 문서
```
docs/
└── 11_FAQ_데이터_파이프라인.md        # 전체 파이프라인 설계 문서

devlog/
├── 2025-10-01_phase1_인프라구축.md
├── 2025-10-01_phase2_데이터준비.md
└── 2025-10-01_네이버API연동.md       # NEW: 저녁 작업 내용
```

---

## 다음 작업 (Phase 2 계속)

### 즉시 진행 가능한 작업
1. **제품 데이터 MongoDB 임포트**
   - products_keychron.csv 파일 검토
   - MongoDB에 적합한 JSON 구조로 변환
   - 제품 160개 임포트

2. **실제 FAQ 데이터 수집**
   - MySQL에 저장된 100건의 실제 문의 검토
   - CS 팀과 협의하여 우선순위가 높은 문의 50개 선정
   - Google Sheets로 내보내기 스크립트 실행

3. **CS 팀 교육**
   - Google Sheets 사용법 안내
   - 답변 작성 가이드라인 제공
   - 처음 10건 정도 함께 작업하며 프로세스 확립

### Phase 2 주요 작업 (2025-10-14까지)
1. **제품 스펙 데이터 작성** (10개)
   - 제품 코드, 이름, 카테고리
   - 스펙, 가격, 재고
   - 호환성, 펌웨어 버전

2. **FAQ 데이터 작성** (50개)
   - 카테고리별 분류 (제품 문의, 기술 지원, 주문, 호환성, 기타)
   - 질문-답변 쌍
   - 키워드, 복잡도

3. **MongoDB 스키마 설계**
   - products, faqs, customers, logs 컬렉션
   - 인덱스 설계

4. **데이터 임포트**
   - 스크립트 실행
   - 데이터 검증

5. **FAQ 임베딩 생성**
   - Sentence-BERT로 임베딩
   - Weaviate 업로드

---

## 빠른 참조

### Docker 서비스 포트 ✅ 모두 정상 작동
- **Weaviate**: http://localhost:8080
- **MongoDB**: http://localhost:27017
- **Redis**: http://localhost:6379
- **Mongo Express**: http://localhost:8081 (MongoDB GUI)

### Spring Boot 서버
- **로컬 개발 서버**: http://localhost:8080 (포트 충돌 시 조정 필요)
- **문의 동기화 API**: PATCH /api/naver/keychron/inquiries

### 주요 명령어

#### Docker 서비스 관리
```bash
# 서비스 시작
cd C:\workspace\CSAI\docker
docker-compose up -d

# 서비스 상태 확인
docker-compose ps

# 로그 확인
docker-compose logs -f weaviate
docker-compose logs -f mongodb

# 서비스 중지
docker-compose down
```

#### Python 가상환경
```bash
# 가상환경 활성화 (Windows)
cd C:\workspace\CSAI\backend
venv\Scripts\activate

# 패키지 설치
pip install -r requirements.txt

# spaCy 한국어 모델 다운로드
python -m spacy download ko_core_news_lg

# GPU 확인
python -c "import torch; print('CUDA:', torch.cuda.is_available())"
```

#### Spring Boot 서버
```bash
# 서버 실행 (IntelliJ IDEA 또는 명령줄)
./mvnw spring-boot:run

# 문의 동기화 API 테스트
curl -X PATCH http://localhost:8080/api/naver/keychron/inquiries
```

---

## 프로젝트 통계

### 개발 환경
- **OS**: Windows 11 Pro 64bit
- **Python**: 3.11.9
- **Java**: 17 (Spring Boot)
- **Docker**: Desktop (WSL 2 백엔드)
- **GPU**: NVIDIA GeForce RTX 3050 (CUDA 12.6)

### 설치된 주요 패키지
- FastAPI 0.115.0
- PyTorch 2.4.1 (CUDA 12.1)
- Weaviate Client 4.17.0
- Anthropic 0.34.2
- spaCy 3.7.6 + ko_core_news_lg
- Sentence-Transformers 3.1.1
- SQLAlchemy 2.0+
- PyMySQL
- PyMongo
- Google API Python Client

### 실행 중인 Docker 서비스
- Weaviate 1.25.5
- MongoDB 7.0
- Redis 7.2-alpine
- Mongo Express 1.0-20

### 데이터 현황 (2025-10-01 20:45 기준)
- **MySQL customer_inquiry 테이블**: 100건 저장됨
- **네이버 API 연동**: 정상 작동 확인
- **중복 방지 로직**: 정상 작동 확인
- **평균 처리 시간**: 2.7초 (100건 기준)

---

## 작업 시간 분석 (2025-10-01)

전체 작업 시간: 약 6시간

### 오전 (Phase 1 인프라 구축): 2시간
- WSL 2 설치 및 재부팅: 20분
- Docker Desktop 설치 및 설정: 15분
- Docker Compose 서비스 실행 및 검증: 15분
- Python 환경 설정 및 패키지 설치: 30분
- GPU 환경 설정 및 문제 해결: 30분
- 최종 검증 및 문서화: 10분

### 오후 (FAQ 파이프라인 설계): 2.5시간
- 네이버 API 모델 작성: 30분
- MySQL/MongoDB 스키마 설계: 30분
- 데이터 변환 스크립트 작성: 1시간
- 문서 작성: 30분

### 저녁 (네이버 API 연동): 1.5시간
- MyBatis 매퍼 문제 해결: 30분
- Spring Controller 구현: 30분
- 실제 API 테스트 및 검증: 30분

---

## 위험 관리

| 위험 | 확률 | 영향도 | 대응 방안 | 상태 |
|------|------|--------|-----------|------|
| 개발 지연 | 중 | 중 | 2주 버퍼 확보 | ✅ 해결 (예상보다 빠름) |
| 기술 학습 곡선 | 중 | 중 | 프로토타입 제작 | ✅ 해결 (인프라 완료) |
| 데이터 부족 | 낮 | 중 | CS 팀 긴밀 협업 | 🔄 진행 중 (100건 확보) |
| Claude API 장애 | 낮 | 높 | 재시도 로직, 폴백 | 📅 Phase 3에서 구현 |
| 성능 이슈 | 중 | 중 | 캐싱, 최적화 | 📅 Phase 3에서 구현 |
| 네이버 API Rate Limit | 중 | 중 | 폴링 간격 조정, 캐싱 | ✅ 해결 (10분 간격) |

---

## 프로젝트 관리

### 매주 업데이트
- **매주 금요일**: 진행 상황 보고
- **블로커 발생 시**: 즉시 보고 및 해결

### Notion 연동
이 문서(`개발현황.md`)는 Notion에 업로드되어 프로젝트 관리에 사용됩니다. 각 Phase 완료 시 자동으로 Notion도 업데이트됩니다.

---

**문서 버전**: 1.4  
**관리자**: 개발팀  
**최종 업데이트**: 2025-10-01 20:45  
**다음 업데이트**: Phase 2 진행 중 (매일 업데이트)
